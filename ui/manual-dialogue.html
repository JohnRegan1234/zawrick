<!-- Manual Dialogue Box Template -->
<div id="manual-overlay" class="manual-overlay">
  <div id="manual-box" class="manual-box">
    <!-- Error Message (if any) -->
    <div id="manual-error" class="hidden bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 p-3 rounded-lg mb-4">
      <div class="flex items-start gap-2">
        <span class="text-red-500">‚ö†Ô∏è</span>
        <div>
          <p class="font-medium">GPT generation failed.</p>
          <code class="block mt-1 bg-red-100 dark:bg-red-900/30 px-2 py-1 rounded text-sm font-mono"></code>
          <p class="mt-2 text-sm font-medium">üí° You can still create the card manually below.</p>
        </div>
      </div>
    </div>

    <!-- Dialog Heading -->
    <h2 id="manual-heading" class="manual-heading"></h2>

    <!-- Deck Selection -->
    <div class="mb-4">
      <label for="manual-deck" class="block font-medium text-gray-700 dark:text-gray-300 mb-1">Deck</label>
      <select id="manual-deck" class="w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-accent focus:border-transparent">
        <!-- Options will be populated dynamically -->
      </select>
      <span id="deck-help" class="hidden mt-1 block text-sm text-gray-500 dark:text-gray-400">
        üü† Deck can only be changed when Anki is connected
      </span>
    </div>

    <!-- Content Area (Basic Card) -->
    <div id="basic-card-content" class="hidden">
      <div class="mb-5">
        <label for="manual-front-input" class="block font-medium text-gray-700 dark:text-gray-300 mb-2">
          Question for the front:
        </label>
        <textarea id="manual-front-input" 
                  class="manual-textarea h-24"
                  placeholder="Type your question here‚Ä¶"></textarea>
      </div>
      
      <div class="mb-5">
        <label class="block font-medium text-accent mb-2">Back of the card (preview):</label>
        <div class="border-t-2 border-accent pt-3">
          <div id="manual-back-preview" class="manual-back-preview"></div>
        </div>
      </div>
    </div>

    <!-- Content Area (Cloze Card) -->
    <div id="cloze-card-content" class="hidden">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-5">
        <!-- Editable Area -->
        <div>
          <label for="manual-back-input" class="block font-medium text-gray-700 dark:text-gray-300 mb-2">
            Edit Cloze Text
          </label>
          <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">
            Add {{c1::deletions}}, {{c2::more deletions}}, etc.
          </p>
          <textarea id="manual-back-input" 
                    class="manual-textarea h-48 font-mono"
                    placeholder="Enter your cloze text with {{c1::deletions}}..."></textarea>
        </div>
        
        <!-- Preview Area -->
        <div>
          <label class="block font-medium text-gray-700 dark:text-gray-300 mb-2">
            Preview (Card Back)
          </label>
          <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">
            This is how your card will appear in Anki
          </p>
          <div id="manual-back-preview" class="manual-back-preview h-48"></div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-end gap-3 mt-6">
      <button id="manual-cancel-btn" class="manual-button-secondary">
        Cancel
      </button>
      <button id="manual-save-btn" class="manual-button">
        Save to Anki
      </button>
    </div>
  </div>
</div> 